(this["webpackJsonpreact-crud"]=this["webpackJsonpreact-crud"]||[]).push([[0],{17:function(e,t,a){e.exports=a(33)},25:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(13),r=a.n(c),s=(a(25),a(26),a(27),a(7)),o=a(3);var i=a(35).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}});var m=new class{getAll(){return i.get("/tutorials")}getOne(e){return i.get("/tutorials/".concat(e||""))}create(e){return i.post("/tutorials",e)}update(e,t){return i.put("/tutorials/".concat(e),t)}delete(e){return i.delete("/tutorials/".concat(e))}deleteAll(){return i.delete("/tutorials")}findByTitle(e){return i.get("/tutorials/?title=".concat(e))}filterPublished(e){return i.get("/tutorials/published/?value=".concat(e))}};const u=()=>async e=>{try{e({type:"RETRIEVE_TUTORIAL",payload:(await m.getAll()).data})}catch(t){console.log(t)}},d=e=>async t=>{try{t({type:"GET_TUTORIAL",payload:(await m.getOne(e)).data})}catch(a){console.log(a)}},p=(e,t)=>async a=>{try{return await m.update(e,t),a({type:"UPDATE_TUTORIAL",payload:t}),Promise.resolve(t)}catch(l){return Promise.reject(l)}};var E=a(5);var b=function(){const[e,t]=Object(l.useState)(null),[a,c]=Object(l.useState)(""),[r,s]=Object(l.useState)(""),[i,u]=Object(l.useState)(!1),[d,p]=Object(l.useState)(!1),b=Object(E.b)(),g=Object(o.o)();return n.a.createElement("div",{className:"submit-form"},d?n.a.createElement("div",null,n.a.createElement("h4",null,"You submitted successfully!"),n.a.createElement("p",null,"Record ID: ",e),n.a.createElement("p",null,"Submitted on ",i),n.a.createElement("button",{className:"btn btn-success btn-space",onClick:()=>{t(null),c(""),s(""),u(!1),p(!1)}},"Add"),n.a.createElement("button",{className:"btn btn-warning btn-space",onClick:()=>g("/")},"Back")):n.a.createElement("form",{onSubmit:e=>{e&&e.preventDefault(),b((e=>async t=>{try{const a=await m.create(e);return t({type:"CREATE_TUTORIAL",payload:a.data}),Promise.resolve(a.data)}catch(a){return Promise.reject(a)}})({title:a,description:r})).then(e=>{t(e.id),c(e.title),s(e.description),u(e.createdAt),p(!0),console.log(e)}).catch(e=>{console.log(e)})}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"title"},"Title"),n.a.createElement("input",{type:"text",className:"form-control",id:"title",required:!0,value:a,onChange:e=>{c(e.target.value)},name:"title"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description"},"Description"),n.a.createElement("input",{type:"text",className:"form-control",id:"description",required:!0,value:r,onChange:e=>{s(e.target.value)},name:"description"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-success",type:"submit"},"Submit"))))};var g=function(){const e=Object(E.b)(),[t,a]=Object(l.useState)(-1),[c,r]=Object(l.useState)(null),{tutorialItems:s}=Object(E.c)(e=>e.tutorials),[o,i]=Object(l.useState)(""),[d,p]=Object(l.useState)(""),b=()=>{e(async e=>{try{e({type:"DELETE_ALL_TUTORIALS",payload:(await m.deleteAll()).data})}catch(t){console.log(t)}}).then(e=>{a(-1),r(null)}).catch(e=>{console.log(e)})},g=()=>{var t;e((t=o,async e=>{try{e({type:"RETRIEVE_TUTORIAL",payload:(await m.findByTitle(t)).data})}catch(a){console.log(a)}})).then(e=>{p(""),a(-1),r(null)}).catch(e=>{console.log(e)})},v=t=>{var l;p(t.target.value),e((l=t.target.value,async e=>{try{e({type:"RETRIEVE_TUTORIAL",payload:(await m.filterPublished(l)).data})}catch(t){console.log(t)}})).then(e=>{a(-1),r(null),i("")}).catch(e=>{console.log(e)})};return Object(l.useEffect)(()=>{e(u())},[e]),n.a.createElement("div",{className:"list container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search by title",value:o,id:"search_title",onChange:e=>i(e.target.value)}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>g()},"Search"))))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"input-group justify-content-between mb-3"},n.a.createElement("h2",null,"Tutorial List"),n.a.createElement("select",{className:"form-control-sm rounded",value:d,onChange:e=>v(e),id:"filter_published"},n.a.createElement("option",{value:""},"Select Filter"),n.a.createElement("option",{value:"true"},"Published"),n.a.createElement("option",{value:"false"},"Pending"))),n.a.createElement("ul",{className:"list-group"},s.map((e,l)=>n.a.createElement("li",{key:l,className:"list-group-item "+(t===l?"active":""),onClick:()=>((e,l)=>{t===l?(a(-1),r(null)):(r(e),a(l))})(e,l)},e.title))),n.a.createElement("button",{className:"margin-top btn btn-danger btn-space",onClick:()=>b()},"Delete All"),n.a.createElement("button",{className:"btn btn-secondary btn-space margin-top",onClick:()=>{e(u()).then(e=>{p(""),i(""),a(-1),r(null)}).catch(e=>{console.log(e)})}},"Clear All Filter")),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("h2",null,"Tutorial"),c?n.a.createElement("div",null,n.a.createElement("div",{className:"margin-top"},n.a.createElement("label",{style:{paddingRight:"5px"}},n.a.createElement("strong",null,"Title:")),c.title),n.a.createElement("div",{className:"margin-top"},n.a.createElement("label",{style:{paddingRight:"5px"}},n.a.createElement("strong",null,"Description:")),c.description),n.a.createElement("div",{className:"margin-top"},n.a.createElement("label",{style:{paddingRight:"5px"}},n.a.createElement("strong",null,"Status:")),c.published?"Published":"Pending"),n.a.createElement("div",{className:"margin-top"},n.a.createElement("a",{href:"/#/tutorials/"+c.id,className:"btn btn-warning"},"Edit"))):n.a.createElement("div",null,n.a.createElement("p",null,"Please Click on a Tutorial...")))))};var v=function(){const{id:e}=Object(o.q)(),t=Object(E.b)(),a=Object(o.o)(),[c,r]=Object(l.useState)(""),[s,i]=Object(l.useState)(""),[u,b]=Object(l.useState)(!1),{tutorialData:g}=Object(E.c)(e=>e.tutorials),v=a=>{var l={id:g.id,title:g.title,description:g.description,published:a};t(p(e,l)).then(a=>{t(d(e)),b(!0),setTimeout(()=>{b(!1)},1e3)}).catch(e=>{console.log(e)})},h=e=>{t((e=>async t=>{try{await m.delete(e),t({type:"DELETE_TUTORIAL",payload:e})}catch(a){console.log(a)}})(e)).then(e=>{console.log(e),a("/")}).catch(e=>{console.log(e)})};return Object(l.useEffect)(()=>{t(d(e)).then(e=>{console.log(e)})},[t,e]),n.a.createElement(n.a.Fragment,null,g?n.a.createElement("div",null,n.a.createElement("h2",null,"Tutorial"),n.a.createElement("form",{onSubmit:a=>{a&&a.preventDefault();var l={id:e,title:a.target.title.value,description:a.target.description.value};t(p(e,l)).then(a=>{t(d(e)),b(!0),setTimeout(()=>{b(!1)},1e3)}).catch(e=>{console.log(e)})}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"title"},"Title"),n.a.createElement("input",{type:"text",className:"form-control",id:"title",name:"title",value:c||g.title,required:!0,onChange:e=>r(e.target.value)})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"description"},"Description"),n.a.createElement("input",{type:"text",className:"form-control",id:"description",name:"description",value:s||g.description,required:!0,onChange:e=>i(e.target.value)})),n.a.createElement("div",{className:"form-group"},n.a.createElement("strong",null,"Status: "),g.published?"Published":"Pending"),n.a.createElement("div",{className:"form-group"},g.published?n.a.createElement("button",{type:"button",className:"btn btn-primary btn-space",onClick:()=>v(!1)},"UnPublish"):n.a.createElement("button",{type:"button",className:"btn btn-primary btn-space",onClick:()=>v(!0)},"Publish"),n.a.createElement("button",{type:"button",className:"btn btn-danger btn-space",onClick:()=>h(g.id)},"Delete"),n.a.createElement("button",{type:"submit",className:"btn btn-success btn-space"},"Update"),n.a.createElement("button",{type:"button",className:"btn btn-warning btn-space",onClick:()=>a("/")},"Back")),n.a.createElement("div",{className:"form-group"},u?n.a.createElement("p",null,"Record Updated Successfully"):""))):n.a.createElement("div",null,n.a.createElement("p",null,"Tutorial Not Found"),n.a.createElement("a",{href:"/",className:"btn btn-warning"},"Go Back")))};var h=function(){return n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},n.a.createElement("div",{className:"container justify-content-start"},n.a.createElement("div",{className:"navbar-header"},n.a.createElement("a",{className:"navbar-brand",href:"/"},"MongoDB")),n.a.createElement("div",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(s.b,{to:"/tutorials",className:"nav-link"},"Tutorials")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(s.b,{to:"/add",className:"nav-link"},"Add Tutorial"))))),n.a.createElement("div",{className:"container mt-3"},n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",element:n.a.createElement(g,null)}),n.a.createElement(o.a,{path:"/tutorials",element:n.a.createElement(g,null)}),n.a.createElement(o.a,{path:"/add",element:n.a.createElement(b,null)}),n.a.createElement(o.a,{path:"/tutorials/:id",element:n.a.createElement(v,null)}))))},y=a(8),T=a(15),N=a(16);const f={tutorialItems:[],tutorialData:[]};var O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:l}=t;switch(a){case"CREATE_TUTORIAL":return{...e,tutorialItems:[l,...e.tutorialItems]};case"RETRIEVE_TUTORIAL":return{...e,tutorialItems:l};case"GET_TUTORIAL":return{...e,tutorialData:l};case"UPDATE_TUTORIAL":return{...e,tutorialItems:e.tutorialItems.map(e=>e.id===l.id?l:e)};case"DELETE_TUTORIAL":return{...e,tutorialItems:e.tutorialItems.filter(e=>e.id!==l.id)};case"DELETE_ALL_TUTORIALS":return{tutorialItems:[]};default:return e}},R=Object(y.combineReducers)({tutorials:O});const j=[N.a];var I=Object(y.legacy_createStore)(R,{},Object(T.composeWithDevTools)(Object(y.applyMiddleware)(...j)));r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(s.a,null,n.a.createElement(E.a,{store:I},n.a.createElement(h,null)))))}},[[17,1,2]]]);
//# sourceMappingURL=main.5649fefb.chunk.js.map